<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Login</title>
</head>
    <body>
    <h2>ERP Login</h2>

    <form id="loginForm">
        <input type="text" name="employeeNumber" placeholder="Employee Number" required/>
        <input type="password" name="password" placeholder="Password" required/>
        <button type="submit">Login</button>
    </form>

    <script>
        document.getElementById("loginForm")
            .addEventListener("submit", async (e) => {

                e.preventDefault();

                const formData = new FormData(e.target);

                const response = await fetch("/login", {
                    method: "POST",
                    body: new URLSearchParams(formData)
                });

                if (response.ok) {
                    window.location.href = "/index.html";
                } else {
                    alert("Login failed");
                }
            });
    </script>
</body>
</html>